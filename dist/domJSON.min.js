var domJSON={};!function(e,t){var r={node:null,domain:t.location.href},n={deep:!0,html:!1,cull:!1,computed:!1,style:!0,attributes:!0,serials:!1,filter:!1,stringify:!1,metadata:!0,absolute:{base:t.location.origin+"/",action:!1,href:!1,style:!1,src:!1,other:!1}},a=["link","script"],o=["nodeType","nodeValue","tagName"],i=["attributes","childNodes","children","classList","dataset","style"],s=["innerHTML","innerText","outerHTML","outerText","prefix","text","textContent"],l=function(e,t){return t&&t instanceof Array&&t.length?"boolean"==typeof t[0]?t.length>1?t[0]===!0?c(e,t.slice(1)):u(e,t.slice(1)):t[0]===!0?e:{}:u(e,t):e},u=function(e,t){var r;if(e instanceof Array)r=t.filter(function(t){return e.indexOf(t)>-1});else{r={};for(var n in t)e.hasOwnProperty(t[n])&&(r[t[n]]=e[t[n]])}return r},c=function(e,t){if(e instanceof Array)e=e.filter(function(e){return-1===t.indexOf(e)});else for(var r in t)e.hasOwnProperty(t[r])&&delete e[t[r]];return e},f=function(){for(var e=[].concat.apply([],arguments),t=0;t<e.length;t++)e.indexOf(e[t])<t&&(e.splice(t,1),t--);return e},p=function(e,t,r,n){if(-1!==n.keys.indexOf(t)){if(e[t]){var a=e[t].indexOf(r);if(-1!==a)return e[t]}if(r.match(/(?:^data\:|^[\w\-\+\.]*?\:\/\/|^\/\/)/i))return r;if("/"===r.substr(0,1))return n.base+r.substr(1);var o=n.base.split("/"),i=r.split("/");o.pop();for(var s=0;s<i.length;s++)"."!=i[s]&&(".."==i[s]?o.pop():o.push(i[s]));return o.join("/")}return r},d=function(e,t){var r={};for(var n in e)try{e.hasOwnProperty(n)&&"function"!=typeof e[n]&&(!(e[n]instanceof Object)||e[n]instanceof Array)&&(t.cull?"null"!=typeof e[n]&&null!==e[n]&&(r[n]=e[n]):r[n]=e[n])}catch(a){console.log(a)}return r=l(r,t.filter)},y=function(e,t){var r={},n=e.attributes,a=n.length;if(t.absolute.keys.length>1||1===t.absolute.keys.length&&"style"!==t.absolute.keys[0])for(var o=0;a>o;o++)r[n[o].name]=p(e,n[o].name,n[o].value,t.absolute);else for(var o=0;a>o;o++)r[n[o].name]=n[o].value;return t.attributes&&(r=l(r,t.attributes)),r},b=function(e,r){var n,a=[];if(n=r.computed?t.getComputedStyle(e):e.style,r.style){if(n.constructor.name!==Object){var o={};for(var i in n)"function"!=typeof n[i]&&(o[i]=n[i])}n=l(o,r.style)}if(r.computed){for(var s in n)"cssText"!==s&&!s.match(/\d/)&&"string"==typeof n[s]&&n[s].length&&a.push(s+": "+n[s]+";");return a.join(" ")}return n.cssText},m=function(e,t,r){var n=d(e,t);if(1===e.nodeType)for(var o in a)if(e.tagName.toLowerCase()===a[o])return null;if(t.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=y(e,t)),t.style&&e.hasOwnProperty("style")){var i=b(e,t);n.attributes=n.attributes||{},n.attributes.style=i}if(t.deep===!0||"number"==typeof t.deep&&t.deep>r){var s,l,u,c=[];s=t.html?e.children:e.childNodes,l=s.length;for(var f=0;l>f;f++)u=m(s[f],t,r+1),u&&c.push(u);n.childNodes=c}return n};e.toJSON=function(e,a){var l,u={},p={},d=(new Date).getTime();for(var y in n)u[y]=n[y];for(var b in a)u.hasOwnProperty(b)?u[b]=a[b]:delete a[b];u.absolute={base:"string"==typeof u.absolute?t.location.origin+"/":u.absolute.base||t.location.origin+"/",action:"boolean"==typeof u.absolute?u.absolute:u.absolute.action||!1,href:"boolean"==typeof u.absolute?u.absolute:u.absolute.href||!1,style:"boolean"==typeof u.absolute?u.absolute:u.absolute.style||!1,src:"boolean"==typeof u.absolute?u.absolute:u.absolute.src||!1,other:"boolean"==typeof u.absolute?u.absolute:u.absolute.other||!1},u.absolute.other=!1;var h=[];for(var g in u.absolute)u.absolute[g]&&"base"!==g&&h.push(g);u.absolute.keys=h;var v=o.concat(),O=i.concat();if(u.serials&&(O=O.concat(u.serials instanceof Array?u.serials:s)),u.filter=u.filter instanceof Array?u.filter[0]===!0?c(f(u.filter,O),v):c(f(u.filter,v),O):[!0].concat(O),l=m(e,u,0),u.metadata){for(var N in r)p[N]=r[N];p.node=l,p.options=u,p.domain=t.location.href,p.clock=(new Date).getTime()-d}else p=l;return u.stringify?JSON.stringify(p):p};var h=function(e,t,r){switch(t instanceof DocumentFragment&&(t=t.ownerDocument),e){case 1:return"string"==typeof r.tagName?t.createElement(r.tagName):!1;case 2:return"string"==typeof r.nodeName&&r.nodeName.length?t.createAttribute(r.nodeName):!1;case 3:return t.createTextNode("string"==typeof r.nodeValue&&r.nodeValue.length?r.nodeValue:"");case 4:return"string"==typeof r?t.createCDATASection(r):!1;case 7:return r.hasOwnProperty("target")&&r.hasOwnProperty("data")?t.implementation.createHTMLDocument(r.target,r.data):!1;case 8:return t.createComment("string"==typeof r?r:"");case 9:return t.implementation.createHTMLDocument(r);case 10:return r.hasOwnProperty("name")&&r.hasOwnProperty("publicId")&&r.hasOwnProperty("systemId")?t.implementation.createDocumentType(r.name,r.publicId,r.systemId):!1;case 11:return t.implementation.createDocumentFragment();default:return!1}},g=function(e,t,r){if(!e.nodeType)return!1;var n=h(e.nodeType,r,e);t.appendChild(n);for(var a in e)e[a]instanceof Object||(n[a]=e[a]);if(1===e.nodeType&&e.tagName&&e.attributes)for(var o in e.attributes)n.setAttribute(o,e.attributes[o]);if(e.childNodes&&e.childNodes.length)for(var i in e.childNodes)g(e.childNodes[i],n,r)};e.toDOM=function(e,t){"string"==typeof e&&(e=JSON.parse(e));var r=document.createDocumentFragment();return t?g(e,r,r):g(e.node,r,r),r}}(domJSON,window);